jobs:
  lint:
    commands:
      - flake8
      - pydocstyle
      - mypy .

  format:
    commands:
      - black .
      - isort --apply
      - >-
        autoflake . -ri --exclude "venv, conftest.py"
        --remove-all-unused-imports --remove-unused-variables
        --ignore-init-module-imports

  docs:
    command: sphinx-build docs/ build/

  tests:
    command: pytest --cov yummy_cereal --html .test_report.html --self-contained-html

routines:
  pre-commit:
    - lint
    - comprehensiveTest
    - clean
    - format

meta:
  script_root: ../
  project_root: ../../
